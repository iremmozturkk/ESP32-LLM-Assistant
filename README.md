# üì° Smart Classroom Monitoring and Voice Assistant System

This project is an IoT-based classroom monitoring and voice assistant system built with *ESP32-S3, **ESP32, and **AI services*. It collects environmental data such as temperature, humidity, pressure, and motion, and allows users to ask voice questions like ‚ÄúWhat is the temperature in the classroom?‚Äù and receive spoken answers generated by a large language model (LLM).

---

## üì¶ Features

- Real-time classroom environment monitoring
- Wi-Fi UDP communication between ESP32-S3 (sensor node) and ESP32 (receiver)
- Voice command recognition using *Whisper API*
- LLM-generated responses via *Groq API* (e.g. LLaMA3)
- Text-to-speech response using *gTTS*
- Audio playback on ESP32-S3 via *PCM5102A DAC*
- OLED display output on ESP32 receiver

---

## üß† System Overview

- *ESP32-S3 (Client)*  
  - Reads sensor data (BME280, PIR)
  - Captures voice via INMP441 microphone
  - Sends audio to Flask server
  - Plays back LLM-generated voice using PCM5102A DAC

- *ESP32 (Server)*  
  - Receives sensor data via UDP
  - Displays values on SH1106 OLED display

- *Flask Server (Python)*  
  - Receives audio recordings
  - Converts audio to text using *Whisper*
  - Queries LLM using *Groq API*
  - Synthesizes response using *gTTS*
  - Sends response WAV file back to ESP32-S3

---

## üß∞ Hardware Components

| Component                | Description                              |
|--------------------------|------------------------------------------|
| ESP32-S3 Dev Board       | Sensor + voice assistant node            |
| ESP32 Dev Board          | OLED data display node                   |
| BME280 Sensor            | Temperature, humidity, pressure          |
| HC-SR501 PIR Sensor      | Motion detection                         |
| INMP441 Microphone       | Records audio from user                  |
| PCM5102A DAC             | Plays back synthesized audio             |
| 1.3" OLED Display (SH1106)| Displays real-time sensor data          |
| 3.5mm Jack Speaker       | Outputs assistant's spoken response      |
| Breadboard & Jumpers     | For prototyping                          |
| USB Cable                | For power and programming                |

---

## üíª Software Components

- *ESP32 Arduino Code*
  - Sensor reading and UDP sending (client)
  - OLED display receiving (server)

- *Flask Server (Python)*
  - sensor_logger.py: logs UDP sensor data to sensor_log.txt
  - server.py: handles /upload endpoint for voice processing

- *Libraries Used*
  - Arduino: Wire, WiFi, WiFiUDP, Adafruit_BME280, Adafruit_GFX, Adafruit_SH110X, ArduinoJson
  - Python: Flask, gTTS, pydub, requests, uuid, wave, json

---

## üöÄ How to Run

### 1. Flash the ESP32 Boards

- *ESP32-S3*: Upload client code (sensors + mic + UDP sender)
- *ESP32*: Upload receiver code (UDP display on OLED)

### 2. Run Python Server

```bash
pip install flask gtts pydub requests
python sensor_logger.py     # Run UDP listener
python server.py            # Run Flask assistant server
